

<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="icon" href="/images/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
  
  <title>ForeverYoung</title>
  <meta name="author" content="BeYoung">
  
  <meta name="description" content="Just another weblog.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="ForeverYoung"/>

  
    <meta property="og:image" content="http://beyoung.me/images/gravatar.png"/>
  

  <link href="/favicon.png" rel="icon">

  <link rel="alternate" href="/atom.xml" title="ForeverYoung" type="application/atom+xml">

  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="http://cdn.staticfile.org/jquery/2.1.1-rc2/jquery.min.js"></script>
  
  
</head>


<body>
    <div class="container">
      <div class="left-col">
        <div class="intrude-less">
          <header id="header" class="inner">
            <div class="profilepic">
  <img src="/images/gravatar.png"/>
</div><!-- profilepic -->
<h1><a href="/">BeYoung</a></h1>
<p class="subtitle">Remember, Let go, Move on.</p>
<nav id="main-nav">
  <ul class="main">
    
      <li>
      <a href="/">Blog</a>
      </li>
    
      <li>
      <a href="/archives">Archives</a>
      </li>
    
      <li>
      <a href="/project">Project</a>
      </li>
    
      <li>
      <a href="/about">About</a>
      </li>
    
  </ul>
  
  <section class="aboutme">
    <p>
      Just another weblog.
    </p>
  </section>
  
</nav><!-- main-nav -->
<nav id="sub-nav">
  <div class="social">
    
      <a class="weibo" href="http://weibo.com/710200711"
         title="weibo">weibo</a>
    
    
      <a class="google" href="http://plus.google.com/114027670572929172581"
         title="Google+">Google+</a>
    
    
      <a class="github" href="http://github.com/xuhong"
         title="Github">Github</a>
    
    
        <a class="rss" href="/atom.xml" title="RSS">RSS</a>
    
  </div>
</nav><!-- sub-nav -->
<!--nav id="widget-nav">
  <div class="widgets">
    
      
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Design/">Design</a><small>1</small></li>
  
    <li><a href="/tags/Email/">Email</a><small>1</small></li>
  
    <li><a href="/tags/HTML5/">HTML5</a><small>8</small></li>
  
    <li><a href="/tags/History API/">History API</a><small>1</small></li>
  
    <li><a href="/tags/Life/">Life</a><small>1</small></li>
  
    <li><a href="/tags/Web Workers/">Web Workers</a><small>1</small></li>
  
    <li><a href="/tags/algorithm/">algorithm</a><small>1</small></li>
  
    <li><a href="/tags/blog/">blog</a><small>1</small></li>
  
    <li><a href="/tags/css3/">css3</a><small>1</small></li>
  
    <li><a href="/tags/file_api/">file_api</a><small>1</small></li>
  
    <li><a href="/tags/flexbox/">flexbox</a><small>1</small></li>
  
    <li><a href="/tags/fullscreen/">fullscreen</a><small>1</small></li>
  
    <li><a href="/tags/geolocation/">geolocation</a><small>1</small></li>
  
    <li><a href="/tags/gevent/">gevent</a><small>1</small></li>
  
    <li><a href="/tags/inherit/">inherit</a><small>1</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>2</small></li>
  
    <li><a href="/tags/notification/">notification</a><small>1</small></li>
  
    <li><a href="/tags/python/">python</a><small>2</small></li>
  
    <li><a href="/tags/responsive/">responsive</a><small>1</small></li>
  
    <li><a href="/tags/source/">source</a><small>1</small></li>
  
    <li><a href="/tags/thought/">thought</a><small>1</small></li>
  
    <li><a href="/tags/touch_event/">touch_event</a><small>1</small></li>
  
    <li><a href="/tags/vibrate/">vibrate</a><small>1</small></li>
  
    <li><a href="/tags/zepto/">zepto</a><small>2</small></li>
  
  </ul>
</div>


    
  </div>
</nav--><!-- widget-nav -->

          <header>
        </div><!-- intrude-less -->
      </div><!-- left-col -->
      <div class="mid-col">
        <div class="mid-col-container">
      <div id="content" class="inner"><div itemscope itemtype="http://schema.org/Blog">

  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-07-08T14:25:31.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  Jul 8 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/responsive/">responsive</a>, <a href="/tags/Email/">Email</a>, <a href="/tags/Design/">Design</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/07/08/responsive-email-design/" itemprop="url">
            响应式邮件设计</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <p>响应式网页设计已经成为潮流好几年了，不过国内一般都会落后于潮流好几年，但这两年，随着bootstrap的流行，许多网页都已经是响应式设计的了。为了追求网页在移动设备上的良好体验，网页响应式的设计已经深入人心，但另一个巨大的领域却被大多数人忽略了，那就是<strong>邮件的响应式设计</strong>，要知道，每天被点击查阅的邮件数量也是大的惊人呢！</p>
<h3>最佳实践</h3>
<h4>HTML</h4>
<ul>
<li><p>使用<code>&lt;table&gt;</code><br>就像1999年一样使用tables来编码，<strong>不要</strong>使用<code>&lt;div&gt;</code>或浮动来进行布局。Microsoft Outlook 的某些版本会使用它自己的文字标记处理引擎并且要求使用table进行布局。</p>
</li>
<li><p>使用嵌套表格进行复杂的布局<br>避免使用<code>rowspan</code>，尽可能少用<code>colspan</code>。否则你将会发现自己经常为模板和代码的易读性和灵活性所困扰。复制和粘贴table比找出某一行在哪要容易多了。</p>
</li>
<li><p>避免使用语义化的HTML标签。<br>一些邮件客户端会使用自己的样式来渲染html标签，比如<code>&lt;p&gt;</code>,<code>&lt;h1&gt;</code>等。要模拟段落之间的间隔，使用<code>&lt;br&gt;&lt;br&gt;</code>要优于使用<code>&lt;p&gt;</code>。</p>
</li>
</ul>
<h4>CSS</h4>
<ul>
<li><p>使用内联CSS</p>
</li>
<li><p>避免使用CSS属性的简写方式<br>  这种写法是OK的：</p>
<pre><code><span class="attribute">font</span>: <span class="string">normal 12px/18px Helvetica, sans-serif;</span></code></pre>
<p>  但这种更好：</p>
<pre><code>font-<span class="method">weight:</span> normal; font-<span class="method">size:</span> <span class="number">12</span>px; line-<span class="method">height:</span> <span class="number">18</span>px; font-<span class="method">family:</span> <span class="class">Helvetica</span>, sans-serif;</code></pre>
</li>
<li><p>使用属性选择器定义样式<br>比如：</p>
<pre><code><span class="tag">td</span><span class="attr_selector">[class="force-col"]</span><span class="rules">{
   <span class="rule"><span class="attribute">display</span>:<span class="value">block;</span></span>
<span class="rule">}</span></span></code></pre>
<p>  不要使用类，比如<code>.container</code>，因为<a href="http://www.campaignmonitor.com/blog/post/3457/media-query-issues-in-yahoo-mail-mobile-email/" target="_blank">雅虎邮箱将会将你的邮件按移动样式来加载</a>。</p>
</li>
<li><p>不要使用浮动<br>Outlook不支持浮动，所以你的HTML基本代码比如<code>&lt;table&gt;</code>、<code>&lt;img&gt;</code>应该经常借助<code>align=&quot;left&quot;</code>等。<br><strong>记住：</strong>默认使用<code>&lt;table align=&quot;left&quot;&gt;</code>，仅在移动样式中使用float。</p>
</li>
</ul>
<h3>常见问题</h3>
<h4>IOS为日期和地址生成了蓝色链接</h4>
<p>有一些客户端（如Apple）会自动把任何可能是日期、电话号码、地址或URL变成链接，浏览器默认会将链接显示为蓝色。为了避免这种情况，可以在父元素上定义你自己的颜色，比如：</p>
<pre><code><span class="tag">span</span><span class="attr_selector">[class="ios-link"]</span> <span class="tag">a</span> <span class="rules">{
    <span class="rule"><span class="attribute">color</span>:<span class="value"><span class="hexcolor">#117692</span>;</span></span>
    <span class="rule"><span class="attribute">text-decoration</span>:<span class="value"> underline;</span></span>
<span class="rule">}</span></span></code></pre>
<p>详见：<a href="https://litmus.com/blog/remove-blue-links-ios" target="_blank">Litmus: Banning Blue Links on iOS Devices</a></p>
<h4>我的文字在Hotmail中变成绿色了！？</h4>
<p>这可能是因为你在使用header标签，如<code>&lt;h1&gt;&lt;h2&gt;&lt;h3&gt;</code>等。同时还推荐尽量避免使用<code>&lt;p&gt;</code>标签，所有文字的样式都通过<code>&lt;div&gt;</code>的内联样式来完成，并且使用<code>&lt;br&gt;&lt;br&gt;</code>来隔断文字。</p>
<h4>我的文字和图片混在一起了！</h4>
<p>解决方案：使用<code>&lt;tbale&gt;</code>s。我们前端工程师都对<code>.clearfix</code>很熟悉，就是通过<code>&lt;table&gt;</code>来实现的。</p>
<p>常规的HTML实现，可能像下面这样：</p>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"clearfix"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"i-am-floated-left"</span>&gt;</span>…<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;<span class="title">img</span> <span class="attribute">class</span>=<span class="value">"i-am-floated-right"</span> <span class="attribute">src</span>=<span class="value">"kitten.jpg"</span>&gt;</span>
<span class="tag">&lt;/<span class="title">div</span>&gt;</span></code></pre>
<p>要解决这个问题，你需要做的就是把每一行用<code>&lt;table&gt;</code>包裹起来：</p>
<pre><code><span class="tag">&lt;<span class="title">table</span>&gt;</span>
    <span class="tag">&lt;<span class="title">tr</span>&gt;</span>
        <span class="tag">&lt;<span class="title">td</span>&gt;</span>
            Some content here.
            <span class="tag">&lt;<span class="title">img</span> <span class="attribute">src</span>=<span class="value">"speaker.jpg"</span> <span class="attribute">align</span>=<span class="value">"right"</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">td</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
<span class="tag">&lt;/<span class="title">table</span>&gt;</span></code></pre>
<h4>Yahoo显示移动版本</h4>
<p>参见最佳实践，不要使用类，请使用属性选择器。</p>
<h3>相关数据</h3>
<ul>
<li><strong>客户端份额</strong><br>下面是6月份最新的全球邮件客户端份额分布，这份数据是从5.5亿公开的邮件中统计出来的，最新邮件客户端市场份额请看<a href="http://emailclientmarketshare.com/" target="_blank">emailclientmarketshare</a>。<br><img src="./img/post/emailclientshare.png" alt="emailclientshare"></li>
</ul>
<h3>相关资源：</h3>
<ul>
<li><a href="https://github.com/InterNations/antwort" target="_blank">antword</a></li>
<li><a href="http://emailclientmarketshare.com/" target="_blank">emailclientmarketshare</a></li>
<li><a href="https://litmus.com/" target="_blank">litmus测试邮件</a></li>
<li><a href="https://www.campaignmonitor.com/css/" target="_blank">The Ultimate Guide to CSS</a></li>
<li><a href="http://zurb.com/playground/responsive-email-templates" target="_blank">Responsive Email Templates</a></li>
<li><a href="http://responsiveemailpatterns.com/" target="_blank">Responsive Email Patterns</a></li>
<li><a href="http://responsiveemailresources.com/" target="_blank">Responsive Email Resources</a></li>
<li><a href="https://templates.campaignmonitor.com/build/" target="_blank">Campaignmonitor Templates Builder/</a></li>
</ul>

          
        </div>


</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-06-09T16:07:44.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  Jun 10 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/HTML5/">HTML5</a>, <a href="/tags/Web Workers/">Web Workers</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/06/10/web_worker/" itemprop="url">
            使用Web Worker后台运行JavaScript</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <h3>概要</h3>
<p>我们都知道JavaScript是单线程的，在执行JavaScript的时候会阻塞页面UI的渲染，所以最佳实践都是让JavaScript尽可能晚的执行，以防止用户界面假死导致用户流失。面试官也经常会问这个问题，<code>setInterval()</code>和<code>setTimeout()</code>这两个函数的副作用是什么？就是阻塞Js线程。那么有什么办法可以防止耗时的程序阻塞线程呢？Web Worker给我们带来了解决方案。</p>
<h3>如何使用</h3>
<h4>创建Worker</h4>
<p>通过<code>Worker()</code>构造函数创建一个新的Web Worker，构造函数接受一个字符串参数，传入需要在后台执行的js代码的URL地址，受同源策略限制。</p>
<pre><code><span class="keyword">var</span> worker = <span class="keyword">new</span> Worker(<span class="string">'worker.js'</span>);</code></pre>
<p>如果不想创建单独的worker.js，可以采用<strong>内嵌Worker</strong>来实现，这要用到<a href="../2014/06/08/file_api/">上一篇博客</a>提到的<code>Blob</code>知识：
            <p style="text-align:right">
              <a href="/2014/06/10/web_worker/" class="more-link">
                Continue Reading
              </a>
            </p>
          
        </div>


</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-06-08T10:15:48.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  Jun 8 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/HTML5/">HTML5</a>, <a href="/tags/file_api/">file_api</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/06/08/file_api/" itemprop="url">
            使用HTML5 File API进行文件操作</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <p>HTML5为我们提供了一种File API规范来与本地文件进行交互。通过这个API可以非常方便的实现很多以前需要复杂代码才能实现的功能，比如多文件上传、上传图片实时预览、断点续传、文件下载等。File API主要有以下几个接口：</p>
<ul>
<li>Blob</li>
<li>File</li>
<li>FileList</li>
<li>FileReader</li>
</ul>
<p>下面将一一进行讲述。<br>
            <p style="text-align:right">
              <a href="/2014/06/08/file_api/" class="more-link">
                Continue Reading
              </a>
            </p>
          
        </div>


</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-06-05T16:07:15.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  Jun 6 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/HTML5/">HTML5</a>, <a href="/tags/touch_event/">touch_event</a>, <a href="/tags/zepto/">zepto</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/06/06/touch_events/" itemprop="url">
            移动设备触摸屏事件</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <p><code>zepto</code>在移动设备上得到大范围的使用，一方面是因为其体积很小，加载速度快，另外一方面就是由于它对触摸屏事件的支持很优秀。它有一个<code>touch</code>模块，用来处理移动设备上的点击（<code>tap</code>）和滑动（<code>swipe</code>）事件，主要就是通过对<code>touchEvent</code>的属性来实现的。</p>
<h3>属性列表</h3>
<p><strong><code>Touch</code></strong>对象有如下几个属性：</p>
<ul>
<li>identifier</li>
<li>target</li>
<li>screenX</li>
<li>screenY</li>
<li>clientX</li>
<li>clientY</li>
<li>pageX</li>
<li>pageY
            <p style="text-align:right">
              <a href="/2014/06/06/touch_events/" class="more-link">
                Continue Reading
              </a>
            </p>
          
        </div>


</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-05-31T07:53:38.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  May 31 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/zepto/">zepto</a>, <a href="/tags/source/">source</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/05/31/read_the_zepto_source_code/" itemprop="url">
            zepto源码阅读笔记</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <p>花了一下午的时间阅读了zepto的源码，就像<a href="http://zeptojs.com" target="_blank">zepto首页</a>的那个幻灯片说的，从zepto精简的源码中学习如何实现你最喜欢的方法。提升你的代码功力。其他的不多说了，主要记录遇到的疑惑和解决疑惑中学到的知识。</p>
<h3>源码解析</h3>
<p><code>zepto</code>有一个<code>matches</code>方法:</p>
<pre><code>zepto<span class="variable">.matches</span> = function(element, <span class="keyword">selector</span>) {
  <span class="keyword">if</span> (!<span class="keyword">selector</span> || !element || element<span class="variable">.nodeType</span> !== <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>
  var matchesSelector = element<span class="variable">.webkitMatchesSelector</span> || element<span class="variable">.mozMatchesSelector</span> ||
                        element<span class="variable">.oMatchesSelector</span> || element<span class="variable">.matchesSelector</span>
  <span class="keyword">if</span> (matchesSelector) <span class="keyword">return</span> matchesSelector<span class="variable">.call</span>(element, <span class="keyword">selector</span>)
  <span class="comment">// fall back to performing a selector:</span>
  var match, parent = element<span class="variable">.parentNode</span>, temp = !parent
  <span class="keyword">if</span> (temp) (parent = tempParent)<span class="variable">.appendChild</span>(element)
  match = ~zepto<span class="variable">.qsa</span>(parent, <span class="keyword">selector</span>)<span class="variable">.indexOf</span>(element)
  temp &amp;&amp; tempParent<span class="variable">.removeChild</span>(element)
  <span class="keyword">return</span> match
  }</code></pre>
<p>其中有如一行代码：
            <p style="text-align:right">
              <a href="/2014/05/31/read_the_zepto_source_code/" class="more-link">
                Continue Reading
              </a>
            </p>
          
        </div>


</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-05-28T11:42:51.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  May 28 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/HTML5/">HTML5</a>, <a href="/tags/History API/">History API</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/05/28/history_api/" itemprop="url">
            谈谈 History API及其应用</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <h3>概览</h3>
<p>History API大家都很熟悉，在HTML4中，我们都是用过下面的几个方法来进行浏览器前进后退导航：<br>- window.history.back() //后退<br>- window.history.forward() //前进<br>- window.history.go(-1) //后退几页</p>
<p>HTML5就是新增了下面两个方法：<br>- pushState()<br>- replaceState()<br>
            <p style="text-align:right">
              <a href="/2014/05/28/history_api/" class="more-link">
                Continue Reading
              </a>
            </p>
          
        </div>


</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-05-26T10:39:43.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  May 26 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/HTML5/">HTML5</a>, <a href="/tags/vibrate/">vibrate</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/05/26/vibrate_api/" itemprop="url">
            使用vibrate api在移动设备上发出震动</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <p>前两天写了<a href="http://beyoung.me/2014/05/22/notification/">Notification API</a>的使用，后来一想，这个提醒对桌面的意义其实要大于移动设备，比如chrome为此专门建立一个消息中心的扩展。对移动设备而言，这种消息提醒并不能引起注意，当手机装在口袋的时候，我们并不能及时的收到提醒。那么移动设备是怎么提醒我们的呢？——使用铃声和震动。然后发现HTML5真有一个震动的API——vibrate。</p>
<h3>如何使用</h3>
<p>vibrate API的使用非常简单，无需申请权限，这一点其实也有待商议，是否会骚扰用户？</p>
<h4>检测支持</h4>
<p>因为无需申请权限，其实这一步就可有可无了，不支持的话就让它静默的失败就好了：</p>
<pre><code><span class="keyword">var</span> supportVibrate = <span class="string">"vibrate"</span> <span class="keyword">in</span> navigator;</code></pre>
<p>
            <p style="text-align:right">
              <a href="/2014/05/26/vibrate_api/" class="more-link">
                Continue Reading
              </a>
            </p>
          
        </div>


</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-05-24T15:10:54.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  May 24 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/HTML5/">HTML5</a>, <a href="/tags/geolocation/">geolocation</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/05/24/geolocation/" itemprop="url">
            使用HTML5 geolocation API获取地理位置</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <p>这两天在忙毕设，所以暂时就玩一些简单点的API，今天这个geolocation也很简单。其实之前看<a href="http://book.douban.com/subject/10608238/" target="_blank">《HTML5程序设计》</a>的时候都有玩过这些API，但都没记录下来，所以过段时间也就都忘了，没有融入到自己的知识系统中去。这次趁着毕设这段时间系统的再学习一遍，顺便写点博客，代码也都保存到github上去，方便自己进行总结和查看，如果能顺便帮到他人的话，那真真是极好的啦~</p>
<h3>如何使用</h3>
<h4>检测支持</h4>
<pre><code><span class="keyword">if</span>('geolocation' <span class="keyword">in</span> navigator){
    //<span class="keyword">get</span> <span class="keyword">the</span> user location
} <span class="keyword">else</span>{
    //<span class="keyword">tell</span> user <span class="keyword">to</span> update his browser
}</code></pre>
<p>
            <p style="text-align:right">
              <a href="/2014/05/24/geolocation/" class="more-link">
                Continue Reading
              </a>
            </p>
          
        </div>


</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-05-23T15:36:11.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  May 23 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/HTML5/">HTML5</a>, <a href="/tags/fullscreen/">fullscreen</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/05/23/fullscreen/" itemprop="url">
            使用fullscreen API全屏浏览网页</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <p>给博客加了一个小功能，全屏显示页面，使用的是HTML5的Fullscreen API，简单介绍一下这个API的使用。</p>
<h3>如何使用</h3>
<h4>方法</h4>
<p>有两个方法，用来进入全屏和取消全屏，分别是</p>
<ul>
<li><code>requestFullscreen()</code></li>
<li><code>cancleFullscreen()/exitFullscreen()</code></li>
</ul>
<h4>属性</h4>
<p>以及两个只读属性，分别是当前全屏展示的元素和全屏是否允许，</p>
<ul>
<li><code>document.webkitFullscreenElement(返回节点)</code></li>
<li><code>document.webkitFullscreenEnabled(返回布尔值)</code></li>
</ul>
<p>HTML 标签属性: allowFullScreen，像flash使用的<code>&lt;object&gt;</code>和<code>&lt;embed&gt;</code>可以设置是否允许全屏，这个特性同样可以应用于<code>&lt;iframe&gt;</code>标签：</p>
<pre><code><span class="tag">&lt;<span class="title">iframe</span> <span class="attribute">src</span>=<span class="value">""</span> <span class="attribute">allowFullScreen</span>=<span class="value">""</span>&gt;</span><span class="tag">&lt;/<span class="title">iframe</span>&gt;</span>    </code></pre>
<p>
            <p style="text-align:right">
              <a href="/2014/05/23/fullscreen/" class="more-link">
                Continue Reading
              </a>
            </p>
          
        </div>


</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2014-05-22T12:04:41.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  May 22 2014
</time>





</div>

          

 
 <div class="tags">
   <a href="/tags/HTML5/">HTML5</a>, <a href="/tags/notification/">notification</a>
 </div>


          
	</div>
        <h1 class="title" itemprop="name">
          <a href="/2014/05/22/notification/" itemprop="url">
            使用HTML5 Notification API开启浏览器桌面提醒</a>
        </h1>
        <div class="entry-content" itemprop="articleBody">
          
            <p>前两天发现一款app，安装了app和相应的chrome插件以后，可以将安卓手机上的消息在电脑桌面上弹窗显示。这样一来，工作的时候就可以完全把手机扔在一边安心工作了，而不用时时查看是否错过了什么消息，如下图所示：</p>
<p><img src="/img/post/notification.png" alt="notification"></p>
<p>这个应用实现的原理其实很简单，大概原理是，监听手机的消息系统，当有新消息的时候就同步到服务器，服务器接收到通知，然后通过HTML5的Notification API推送消息到电脑。之前有玩过这个API，这次再完整地学习一遍，记录下来。</p>
<h3>如何使用</h3>
<h4>申请权限</h4>
<p>出于安全考虑，要发送桌面消息，需要先申请用户授权。Notification对象提供了一个静态的方法——<code>requestPermission()</code>，它接收一个回调函数作为参数，并把返回值传递给回调函数作为参数：</p>
<pre><code>Notification<span class="preprocessor">.requestPermission</span>(function(status){
            if(Notification<span class="preprocessor">.permission</span> !== status){
                Notification<span class="preprocessor">.permission</span> = status<span class="comment">;</span>
            }
        })<span class="comment">;</span></code></pre>
<p>返回值为字符串，有以下三个值：</p>
<ul>
<li><code>default</code></li>
<li><code>granted</code></li>
<li><code>denied</code></li>
</ul>
<p>默认为<code>default</code>，也就是需要询问，表现和<code>denied</code>一样。</p>

            <p style="text-align:right">
              <a href="/2014/05/22/notification/" class="more-link">
                Continue Reading
              </a>
            </p>
          
        </div>


</article>



</div>

<nav id="pagenavi">
    
    
        <a href="/page/2/" class="next">
          Next
        </a>
    
    <div class="center">
      <a href="./archives">Blog Archives</a>
    </div>
</nav>
</div>
  </div>
        <footer id="footer" class="inner">
          Copyright © 2013  BeYoung 

        </footer>
        
<script src="/js/slash.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var disqus_shortname = 'beyoungme';

  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
  </script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>




      </div><!-- mid-col -->
    </div><!-- container -->
</body>
</html>

